# countdown

> 计算两个 unix 时间之间的倒计时。

---

#### 参数

| 参数名      | 参数描述         |     参数类型     | 是否必填 | 默认值                                                                        |
| ----------- | ---------------- | :--------------: | :------: | :---------------------------------------------------------------------------- |
| **startAt** | unix 开始时间    |      number      |    √     |                                                                               |
| **endAt**   | unix 结束时间    |      number      |    √     |                                                                               |
| format      | 倒计时展示的格式 | string ｜ object |          | **1h 内**：{m}:{s} 、 **24h 内**： {h}:{m}:{s}、 **72h 内**： {d}:{h}:{m}:{s} |

#### 返回值

| 输入类型 |   返回值   |
| :------: | :--------: |
| any case | **string** |

---

#### 代码示例

> 一般使用：

```js
import { countdown } from 'mytils';

countdown(1583825398, 1583825798); // 06:40
countdown(1583825398, 1583825798, '{m}分钟{s}秒'); // 6分钟40秒
```

> 参数 format 为 object 类型时，属性名为时间边界(单位**秒**)，属性值为对应展示格式。

```js
import { countdown } from 'mytils';

const formatMap = {
  // 3600s(1小时)以内
  [`${60 * 60}s`]: '{m}分钟{s}',
  // 下面以此类推
  [`${60 * 60 * 24}s`]: '{h}小时{m}:{s}s',
  [`${60 * 60 * 72}s`]: '{d}天{h}小时,{m}:{s}',
};

countdown(1583825398, 1583828938, formatMap); // 59分钟0
countdown(1583825398, 1583829058, formatMap); // 1小时1:0s
countdown(1583825398, 1584080998, formatMap); // 2天23小时,0:0
```

#### 附加说明

- "时间-解析"对应关系：

|  值  | 含义 | 额外说明                       |
| :--: | :--: | :----------------------------- |
| {y}  |  年  |                                |
| {M}  |  月  |                                |
| {w}  |  周  |                                |
| {d}  |  天  |                                |
| {h}  | 小时 | 不补 0，例如：`{h}h`->`4h`     |
| {hh} | 小时 | 补 0，例如：`{hh}h`->`04h`     |
| {m}  | 分钟 | 不补 0，例如：`{m}min`->`9min` |
| {mm} | 分钟 | 补 0，例如：`{mm}min`->`09min` |
| {s}  |  秒  | 同上                           |

!> countdown[From...] 系列函数对应“时间-解析”的各位输出内容是“该位的值”，而不是“精确到该位”，举个例子：

```js
import { countdown, countdownDuration } from 'mytils';

const startAt = 2398348861;
const endAt = 3379424523;

countdown(startAt, endAt, '{y}年{M}月{d}天, {hh}:{mm}:{ss}'); // 没有任何疑问的：31年1月2天, 01:01:02
countdown(startAt, endAt, '{d}天, {hh}:{mm}:{ss}'); // 结果是：2天, 01:01:02 ，而不是 11377天, 01:01:02

// 相类似地，countdownDuration方法也一样：
countdownDuration(3 * 25 * 60 * 60); // 结果是 3:03:00:00， 表示3天3小时0分0秒 
countdownDuration(3 * 25 * 60 * 60, '{h}小时{mm}分钟{ss}'); // 结果是 3小时00分钟00，而不是75小时00分钟00
```
